campaignTrail_temp.election_json = JSON.parse("[{\"model\": \"campaign_trail.election\", \"pk\": 10, \"fields\": {\"year\": 1963, \"summary\": \"<p>In 1963, South Korea is holding a presidential election that will determine its history for decades to come. Park Chung-hee, who seized power through a coup in 1961, constitutionally changed Korea from a parliamentary system to a presidential system, and is now running for president. Yun Po-sun, who was the president of the Chang Myon Cabinet, yet had no real authority, is trying to prevent Park from obtaining the presidency by rallying almost every established political force in Korea.</p><p>This election is an all-out war for both candidates. The victorious side will gain overwhelming presidential power over the nation's politics, but the defeated side will be threatened not only politically, but maybe even <i>physically.</i></p>\", \"image_url\": \"../../../../../static/mod_media/1963Korea_init_0.png\", \"winning_electoral_vote_number\": 1, \"advisor_url\": \"../../../../../static/mod_media/1963Korea_init_1.png\", \"recommended_reading\": \"<div style=\\\"overflow-y:scroll;height:357.133px;font-size:1em;\\\"><h1>Thank you for playing 1963 Korea!</h1><p><img src=\\\"../../../../../static/mod_media/1963Korea_init_2.png\\\"><br></p><p>Hi. It's me, Kim Jong-pil. Thank you for playing another mod made by FlongydOlson.</p><p><span style=\\\"width:700px;text-align:left;display:inline-block;line-height:1.33em;\\\">Since Park Chung-hee came to power, the May 16 Military Coup has long been celebrated by the Korean people, calling it a 'military revolution'. Even during the Roh Tae-woo administration after democratization, it was called a revolution, but only after President Kim Young-sam took office in 1993, it was revalued and started to be called a coup. However, still, not a few conservative politicians consider it a revolution.</span></p><p><a href=\\\"https://gwangjunewsgic.com/features/jeolla-history/the-may-16-military-coup-how-it-came-about/\\\" target=\\\"_blank\\\">Gwangju News, 2003, The May 16 Military Coup: How It Came About</a></p><p><a href=\\\"https://www.koreatimes.co.kr/www/news/nation/2010/05/117_65949.html\\\" target=\\\"_blank\\\">The Korea Times, 2010, Gen. Park Chung-hee’s May 16 coup and rise of military regime</a></p><p><a href=\\\"https://www.ed.ac.uk/global/uncovered/1920s/yun-posun\\\" target=\\\"_blank\\\">The University of Edinburgh, 2023, Yun Posun</a><br><br></p><p><span style=\\\"width:700px;text-align:left;display:inline-block;line-height:1.33em;\\\">In real history, Park Chung-hee was on the verge of losing due to the disastrous failure of monetary reform and the unification of the opposition, but managed to win the election based on the organizational power of the DRP and the high support of rural areas. There is also speculation that Yun Po-sun's ideological offensive during the election became a trauma to Park, ironically causing him to implement a very strong anti-communist policy later.</span><br><br></p><p><span style=\\\"width:700px;text-align:left;display:inline-block;line-height:1.33em;\\\">This election was very important in Korean history, but it has little data and relatively low interest. I hope this mod helped you understand the turmoil in Korean politics at the time and Park Chung-hee's process of acquiring power. See you later!</span></p></div>\", \"has_visits\": 0, \"no_electoral_majority_image\": \"../../../../../static/mod_media/1963Korea_init_3.png\"}}]");
campaignTrail_temp.candidate_json = JSON.parse("[{\"model\": \"campaign_trail.candidate\", \"pk\": 91, \"fields\": {\"first_name\": \"\", \"last_name\": \"Park Chung-hee\", \"election\": 10, \"party\": \"Democratic-Republican Party (DRP)\", \"state\": \"North Gyeongsang\", \"priority\": 1, \"description\": \"<p>After Syngman Rhee's dictatorship collapsed due to protests against rigged elections, the Chang Myon Cabinet of the Democratic Party suffered internal conflicts, corruption, and extreme social turmoil. For the ambitious Major General Park Chung-hee, this situation was simply a golden opportunity. In May 1961, he launched a military coup with his men and colleagues, overthrowing the Chang government and setting up the Supreme Council for National Reconstruction to seize absolute power. Having gained much popularity as chairman of the council and acting president for two years, he finally decided to run for president to be officially recognized his rule by the people.</p><p>To be elected, you will have to refute the criticism of the coup with the claim that it was a great revolution using the military, and at the same time emphasize your competence in contrast to the old government. Your main opponent, Yun Po-sun, is old and unpopular, but the mere fact that he was a former president elected by the democratic process will make this election a very tough race for you…</p>\", \"color_hex\": \"#835b39\", \"secondary_color_hex\": \"#835b39\", \"is_active\": 1, \"image_url\": \"../../../../../static/mod_media/1963Korea_init_3.png\", \"electoral_victory_message\": \"\", \"electoral_loss_message\": \"\", \"no_electoral_majority_message\": \"\", \"description_as_running_mate\": \"''\", \"candidate_score\": 1.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 92, \"fields\": {\"first_name\": \"\", \"last_name\": \"Yun Po-sun\", \"election\": 10, \"party\": \"Civil Rule Party (CRP)\", \"state\": \"South Chungcheong\", \"priority\": 2, \"description\": \"<p>Yun Po-sun, who served as mayor of Seoul and a legislator, was one of the main politicians of the Democratic Party who opposed Syngman Rhee's attempt at dictatorship. When the Rhee administration ended and the Chang Myon Cabinet was formed, he was elected president by the National Assembly, but he did not have any real power and continued to have disagreements with Prime Minister Chang. Therefore, Park Chung-hee's coup was both a crisis and an opportunity for Yun. Many of his opponents, including Chang, were removed from power by Park Chung-hee, and Yun became the only hope to defeat Park.</p><p>Since resigning as president in 1962, you have joined hands with the former Democratic Party, various minor parties, and even the Liberal Party, which was the ruling party of the Rhee administration, in order to beat Park Chung-hee in this election. Park has a high approval rating, especially in rural areas, and you are much more unpopular than him. But remember this: public opinion in urban areas still regards Park's coup as a rebellion rather than a revolution, and old politicians will fully support you based on their numerous election experiences...</p>\", \"color_hex\": \"#FFD700\", \"secondary_color_hex\": \"#FFD700\", \"is_active\": 1, \"image_url\": \"../../../../../static/mod_media/1963Korea_init_4.png\", \"electoral_victory_message\": \"\", \"electoral_loss_message\": \"\", \"no_electoral_majority_message\": \"\", \"description_as_running_mate\": \"''\", \"candidate_score\": 1.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 93, \"fields\": {\"first_name\": \"\", \"last_name\": \"Oh Jae-yong\", \"election\": 10, \"party\": \"Independent\", \"state\": \"Gyeonggi\", \"priority\": 3, \"description\": \"''\", \"color_hex\": \"#C78665\", \"secondary_color_hex\": \"#A1FFA1\", \"is_active\": 0, \"image_url\": \"''\", \"electoral_victory_message\": \"''\", \"electoral_loss_message\": \"''\", \"no_electoral_majority_message\": \"''\", \"description_as_running_mate\": \"''\", \"candidate_score\": 1.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 94, \"fields\": {\"first_name\": \"\", \"last_name\": \"Other Candidates\", \"election\": 10, \"party\": \"Independent\", \"state\": \"Jeju\", \"priority\": 4, \"description\": \"''\", \"color_hex\": \"#4B0080\", \"secondary_color_hex\": \"#FFFFC0\", \"is_active\": 0, \"image_url\": \"''\", \"electoral_victory_message\": \"''\", \"electoral_loss_message\": \"''\", \"no_electoral_majority_message\": \"''\", \"description_as_running_mate\": \"''\", \"candidate_score\": 1.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 95, \"fields\": {\"first_name\": \"Democratic-Republican\", \"last_name\": \"Party\", \"election\": 10, \"party\": \"DRP\", \"state\": \"North Gyeongsang\", \"priority\": 5, \"description\": \"''\", \"color_hex\": \"#0000FF\", \"secondary_color_hex\": \"#90C0FF\", \"is_active\": 0, \"image_url\": \"../../../../../static/mod_media/1963Korea_init_5.png\", \"electoral_victory_message\": \"''\", \"electoral_loss_message\": \"''\", \"no_electoral_majority_message\": \"''\", \"description_as_running_mate\": \"<p>The Democratic-Republican Party (DRP) is a conservative party founded in 1963 led by Park Chung-hee and military forces who led the May 16 coup, and is also the first party in Korea to have a modern organization under the design of Kim Jong-pil, a close aide to Park. Park Chung-hee serves as the leader of the DRP, and since the constitutional amendment, the general election has not yet been held, so there are no other powerful politicians than Park.</p><p>In other words, currently, the DRP is the party of you, by you, and for you. Thanks to this, a conflict within the party will not happen, and you will be able to use the DRP's organizational power entirely for your election...</p>\", \"candidate_score\": 0.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 96, \"fields\": {\"first_name\": \"Civil Rule\", \"last_name\": \"Party\", \"election\": 10, \"party\": \"CRP\", \"state\": \"Seoul\", \"priority\": 6, \"description\": \"''\", \"color_hex\": \"#0000FF\", \"secondary_color_hex\": \"#90C0FF\", \"is_active\": 0, \"image_url\": \"../../../../../static/mod_media/1963Korea_init_6.png\", \"electoral_victory_message\": \"''\", \"electoral_loss_message\": \"''\", \"no_electoral_majority_message\": \"''\", \"description_as_running_mate\": \"<p>The Civil Rule Party (CRP) was founded in 1963 by former Democratic Party members who follow Yun Po-sun. The CRP is also second only to the DRP of Park Chung-hee in terms of support and size, and can be seen as a direct descendant of the Democratic Party.</p><p>But some politicians who oppose you have created several parties, including the Liberal Democratic Party and the People's Party, and even the Liberal Party is trying to re-establish itself to run for the presidential election. All of them have a level of support that can never be ignored, so you will only have a chance to win against Park if you are unified with them...</p>\", \"candidate_score\": 0.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 103, \"fields\": {\"first_name\": \"...\", \"last_name\": \"Other\", \"election\": 10, \"party\": \"Independent\", \"state\": \"Alaska\", \"priority\": 13, \"description\": \"''\", \"color_hex\": \"#00C100\", \"secondary_color_hex\": \"#A1FFA1\", \"is_active\": 0, \"image_url\": \"''\", \"electoral_victory_message\": \"''\", \"electoral_loss_message\": \"''\", \"no_electoral_majority_message\": \"''\", \"description_as_running_mate\": \"''\", \"candidate_score\": 0.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 104, \"fields\": {\"first_name\": \"...\", \"last_name\": \"Other\", \"election\": 10, \"party\": \"Independent\", \"state\": \"Alaska\", \"priority\": 14, \"description\": \"''\", \"color_hex\": \"#FFFF00\", \"secondary_color_hex\": \"#FFFFC0\", \"is_active\": 0, \"image_url\": \"''\", \"electoral_victory_message\": \"''\", \"electoral_loss_message\": \"''\", \"no_electoral_majority_message\": \"''\", \"description_as_running_mate\": \"''\", \"candidate_score\": 0.0}}]");
campaignTrail_temp.running_mate_json = JSON.parse("[{\"model\": \"campaign_trail.running_mate\", \"pk\": 66, \"fields\": {\"candidate\": 93, \"running_mate\": 103}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 67, \"fields\": {\"candidate\": 94, \"running_mate\": 104}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 58, \"fields\": {\"candidate\": 91, \"running_mate\": 95}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 59, \"fields\": {\"candidate\": 92, \"running_mate\": 96}}]");
campaignTrail_temp.opponents_default_json = JSON.parse("[{\"election\": 10, \"candidates\": [93, 94, 91, 92]}]");
campaignTrail_temp.opponents_weighted_json = JSON.parse("[{\"election\": 10, \"candidates\": [91, 92, 93, 94]}]");        
campaignTrail_temp.difficulty_level_json = JSON.parse("[{\"model\": \"campaign_trail.difficulty_level\", \"pk\": 1, \"fields\": {\"name\": \"CENSORED\", \"multiplier\": 0.97}}, {\"model\": \"campaign_trail.difficulty_level\", \"pk\": 2, \"fields\": {\"name\": \"CENSORED\", \"multiplier\": 0.97}}, {\"model\": \"campaign_trail.difficulty_level\", \"pk\": 3, \"fields\": {\"name\": \"CENSORED\", \"multiplier\": 0.97}}, {\"model\": \"campaign_trail.difficulty_level\", \"pk\": 4, \"fields\": {\"name\": \"Normal\", \"multiplier\": 0.97}}, {\"model\": \"campaign_trail.difficulty_level\", \"pk\": 5, \"fields\": {\"name\": \"CENSORED\", \"multiplier\": 0.97}}, {\"model\": \"campaign_trail.difficulty_level\", \"pk\": 6, \"fields\": {\"name\": \"CENSORED\", \"multiplier\": 0.97}}, {\"model\": \"campaign_trail.difficulty_level\", \"pk\": 7, \"fields\": {\"name\": \"CENSORED\", \"multiplier\": 0.97}}, {\"model\": \"campaign_trail.difficulty_level\", \"pk\": 8, \"fields\": {\"name\": \"CENSORED\", \"multiplier\": 0.97}}, {\"model\": \"campaign_trail.difficulty_level\", \"pk\": 9, \"fields\": {\"name\": \"CENSORED\", \"multiplier\": 0.97}}]");
campaignTrail_temp.global_parameter_json = JSON.parse("[{\"model\": \"campaign_trail.global_parameter\", \"pk\": 1, \"fields\": {\"vote_variable\": 1.125, \"max_swing\": 0.12, \"start_point\": 0.94, \"candidate_issue_weight\": 10.0, \"running_mate_issue_weight\": 3.0, \"issue_stance_1_max\": -0.71, \"issue_stance_2_max\": -0.3, \"issue_stance_3_max\": -0.125, \"issue_stance_4_max\": 0.125, \"issue_stance_5_max\": 0.3, \"issue_stance_6_max\": 0.71, \"global_variance\": 0.01, \"state_variance\": 0.005, \"question_count\": 35, \"default_map_color_hex\": \"#C9C9C9\", \"no_state_map_color_hex\": \"#999999\"}}]");
campaignTrail_temp.candidate_dropout_json = JSON.parse("[{\"model\": \"campaign_trail.candidate_dropout\", \"pk\": 1, \"fields\": {\"candidate\": 36, \"affected_candidate\": 18, \"probability\": 1.0}}]");
function updateRunningMateForm() {
  try {
    const form = document.querySelector("#running_mate_form form");
    const heading = form.querySelector("h3");
    
    heading.textContent = "Please select your party:";
  } catch {}
}
window.setInterval(updateRunningMateForm,200)
function modifyForm() {
  try {
    const form = document.querySelector('form[name="game_type_selection"]');
    const select = form.querySelector('select[name="game_type_id"]');
    const option = select.querySelector('option[value="1"]');
    option.textContent = 'Default (Plurality Voting)';
    select.querySelector('option[value="2"]').remove();
    const h3 = form.querySelector('h3');
    h3.textContent = 'How would you like the winner to be decided?';
  } catch {}
}
window.setInterval(modifyForm,200)
function changeOpponentSelectionDescription() {
  try {
    const opponentSelectionDescription = document.getElementById("opponent_selection_description_window");
    opponentSelectionDescription.innerHTML = `<p><strong>Use the default method of deciding the winner in the Korean presidential election.</strong></p><p>In the Korean presidential election, the candidate who receives votes more than any other opponents is elected president. Regardless of the majority, you just need to have the most to win. For example, in the historical result of this election, Park Chung-hee won 46.6 percent of the vote, beating Yun Po-sun, who won only 45.1 percent of the vote. </p>`;
  } catch {}
}
window.setInterval(changeOpponentSelectionDescription,200)

RecReading=true

campaignTrail_temp.temp_election_list = [{"id": 10, "year": 1963, "is_premium": 0, "display_year": "1963Korea"}];
campaignTrail_temp.show_premium = true;
campaignTrail_temp.premier_ab_test_version = -1;
campaignTrail_temp.credits =  "FlongydOlson, <button onclick='credits()'>And...</button>";
  
credits = function() {
  credits = [""]
  text = "CODE CREDITS:\n1964 Draft Lodge (Color Setting Codes)\n2000N (Soundtrack Code)\n2025 Netherlands (Several Codes)\n\nWONDERFUL PLAYTESTERS & PROOFREADERS:\nduplicator\njchung28\nMassachusetts for Stockdale\nSkyBlue\n\nHAVE FUN!"
  for (i in credits) {
      text += credits[i]
  }
  alert(text)
}

nct_stuff.themes[nct_stuff.selectedTheme].coloring_title = "#000000";
nct_stuff.themes[nct_stuff.selectedTheme].coloring_window = "#969696";
document.getElementsByClassName("game_header")[0].style.backgroundColor = nct_stuff.themes[nct_stuff.selectedTheme].coloring_title;
$("#game_window")[0].style.backgroundColor = nct_stuff.themes[nct_stuff.selectedTheme].coloring_window;
$(".container")[0].style.backgroundColor = "#282828";
bannerlist=["../../../../../static/mod_media/1963Korea_init_7.png", "../../../../../static/mod_media/1963Korea_init_8.png"]
document.getElementById("header").src = bannerlist[Math.floor((Math.random() * bannerlist.length))] 
document.body.background = "../../../../../static/mod_media/1963Korea_init_9.png";

$(".footer a").css({"color":"#ffffff"});
nct_stuff.themes[nct_stuff.selectedTheme].text_col = "#000000"

let style = document.createElement('style');
style.type = 'text/css';
style.id = 'dynamic-style';

style.innerHTML = `
  .campaign_trail_start_emphasis {
    background-color: #000000;
  }
  a:-webkit-any-link {
  	color: #000000;
  }
`;

document.head.appendChild(style);

quotes = ["“Let there be no more unfortunate soldiers like myself in this country.” - Park Chung-hee", "“Let's wipe out McCarthyism believers in our society!” - Park Chung-hee", "“The establishment of a self-reliant, independent Korea is all I want.” - Park Chung-hee", "“The time has come!” - Yun Po-sun", "“I am the de facto spiritual president.” - Yun Po-sun", "“From now on, it is truly the government of the people, rather than for the people.” - Yun Po-sun"]
customquote = quotes[Math.floor((Math.random() * quotes.length))]

corrr=`\n<h2>CAMPAIGN TRAIL SHOWCASE</h2><font id='wittyquote' size='4' color='white'><em>`+customquote+`</em></font>`

musicMode = () => {
    // Initialise custom music
  
    $("#music_player")[0].children[0].style.display = "none"
    $("#music_player")[0].children[1].style.display = "none"
  
    document.getElementById("modLoadReveal").style.display = "none"
    document.getElementById("modloaddiv").style.display = "none"
  
    musicBox = document.getElementById("music_player")
    musicBox.style.display = ""
  
    var trackSel;
    e = campaignTrail_temp
    e.selectedSoundtrack = 0
  
    toTime = (seconds) => {
        var date = new Date(null);
        date.setSeconds(seconds);
        return date.toISOString().substr(11, 8);
    }
  
    generateTime = () => {
        // Get the audio element
        var audio = document.getElementById("campaigntrailmusic");
  
        timeTracker = document.createElement("div");
        timeTracker.style = `
  text-align:left;
  border-style:solid;
  border-width:3px;
  height:150px;
  width:200px;
  background-color:#999999;
  float:right;
  padding: 10px;
  `
        $("#trackSelParent")[0].prepend(timeTracker);
        $("#trackSelParent")[0].prepend(document.createElement("br"));
  
        // Create a new element to display the current position of the audio
        var positionDisplay = document.createElement("gg");
        positionDisplay.id = "position-display";
  
        // Create a new slider element to change the time
        var timeSlider = document.createElement("input");
        timeSlider.type = "range";
        timeSlider.min = 0;
        timeSlider.max = 1;
        timeSlider.step = 0.001;
        timeSlider.value = 0;
        timeSlider.style.width = "200px";
        timeSlider.id = "time-slider";
  
        var pausePlay = document.createElement("button");
        pausePlay.id = "position-display";
        pausePlay.innerHTML = "<b>Pause</b>"
        pausePlay.style.width = "100%";
  
  
        pausePlay.addEventListener("click", event => {
            event.preventDefault();
            updatePositionDisplay();
            let audio = document.getElementById("campaigntrailmusic");
            if (audio.paused) {
                audio.play();
                event.target.innerHTML = "<b>Pause</b>";
                return;
            }
            audio.pause();
            event.target.innerHTML = "<b>Play</b>";
            return;
        })
  
        var volumeLabel = document.createElement("gg");
        volumeLabel.id = "volume-label";
        volumeLabel.innerHTML = "<br><b>Volume: </b>"
  
        var volumeSlider = document.createElement("input");
        volumeSlider.type = "range";
        volumeSlider.min = 0;
        volumeSlider.max = 1;
        volumeSlider.step = 0.001;
        volumeSlider.value = 0;
        volumeSlider.style.width = "200px";
        volumeSlider.id = "volume-slider";
  
        volumeSlider.value = audio.volume;
  
        timeTracker.appendChild(pausePlay);
        timeTracker.appendChild(document.createElement("br"));
        timeTracker.appendChild(document.createElement("br"));
        timeTracker.appendChild(positionDisplay);
        timeTracker.appendChild(timeSlider);
        timeTracker.appendChild(volumeLabel);
        timeTracker.appendChild(volumeSlider);
  
        updatePositionDisplay();
  
        //for (let i = 0; i < 10; i++)
        //timeTracker.append(document.createElement("br"));
  
  
        // Function to update the position display
        function updatePositionDisplay() {
            positionDisplay.innerHTML = "<b>Time:</b> " + toTime(audio.currentTime) + "<br>";
            timeSlider.value = audio.duration ? audio.currentTime / audio.duration : 0;
        }
  
        // Function to change the time of the audio
        function changeTime() {
            positionDisplay.innerHTML = "<b>Time:</b> " + toTime(audio.currentTime) + "<br>";
            audio.currentTime = timeSlider.value * audio.duration;
        }
  
        updateVolume = event => {
            audio.volume = event.target.value;
        }
  
        // Update the position display and slider every second
        setInterval(updatePositionDisplay, 1000);
  
        // Listen for changes to the time slider and change the time of the audio
        timeSlider.addEventListener("input", changeTime);
        volumeSlider.addEventListener("input", updateVolume)
    }
  
    function newMusicPlayer() {
        trackSel = document.createElement("div");
        trackSel.id = "trackSelParent"
        let z = `<br><br><br><br><br><br><br><br><br><br><div id='trackSel' style="text-align:left;border-style:solid;border-width:3px;overflow-y: scroll;overflow-x: hidden;height:200px; width:400px;background-color:#999999;float:right;">`
        z += `<b><select id='selectSoundtrack'><option value='` + soundtracks[e.selectedSoundtrack].name + `'>` + soundtracks[e.selectedSoundtrack].name + "</option>"
        for (i in soundtracks) {
            if (soundtracks[e.selectedSoundtrack] != soundtracks[i]) {
                z += `<option value='` + soundtracks[i].name + `'>` + soundtracks[i].name + `</option>`
            }
        }
        z += `</select></b><br><br>`
            // <label><input type="radio" name="option" value="option1">Option 1</label><br>
        for (i in soundtracks[e.selectedSoundtrack].tracklist) {
            let a = soundtracks[e.selectedSoundtrack].tracklist[i]
            let b = `<label><input class="trackSelector" type="radio" name="trackSelector" value="` + i + `">` + a.name + `</label><br>`
            z += b
        }
        z += "</div><br><br>"
        trackSel.innerHTML = z
  
        // select correct song
  
        musicBox.appendChild(trackSel);
        Array.from(document.getElementById("trackSel").children).filter(f => {
            return f.tagName == "LABEL"
        }).map(f => f.children[0])[0].checked = true
  
        // set soundtrack changer
  
        soundtrackSelector = document.getElementById("selectSoundtrack")
        soundtrackSelector.onchange = function() {
            for (i in soundtracks) {
                if (soundtracks[i].name == soundtrackSelector.value) {
                    e.selectedSoundtrack = i
                    break
                }
            }
            document.getElementById("trackSelParent").remove()
            newMusicPlayer()
        }
  
        var matches = document.querySelectorAll('.trackSelector');
  
        for (match in matches) {
            matches[match].onchange = function() {
                audio = $("#campaigntrailmusic")[0];
                audio.src = soundtracks[e.selectedSoundtrack].tracklist[this.value].url
                audio.currentTime = 0
            }
        }
  
        musicBox.children[2].loop = false
        musicBox.children[2].src = soundtracks[e.selectedSoundtrack].tracklist[0].url
  
        musicBox.children[2].onended = function() {
            console.log("next track")
            let selected = Number(document.querySelector('input[name="trackSelector"]:checked').value);
            let newSel = clamp(selected + 1, soundtracks[e.selectedSoundtrack].tracklist.length - 1, 0)
            let buttons = Array.from(document.getElementById("trackSel").children).filter(f => {
                    return f.tagName == "LABEL"
                }).map(f => f.children[0])
                //let selectedIndex = buttons.map(f=>f.children[0]).map(f=>f.checked)
            buttons[newSel].click()
        }
  
        for (w = 0; w < 7; w++) {
            document.getElementById("trackSelParent").appendChild(document.createElement("br"))
        }
  
        generateTime();
    }
  
    clamp = function(a, max, min, overflow = true) {
        if (overflow) {
            return a > max ? min : a < min ? max : a;
        }
        return a > max ? max : a < min ? min : a;
    }
  
  
    // Track list
  
    var soundtracks = {
        0: {
            name: "Intro Music",
            tracklist: [
              {
                "name": "The Boy in the Yellow Shirt - Han Myung-sook (1961)",
                "url": "https://cdn.discordapp.com/attachments/1111091213882359890/1124316545368195172/The_Boy_in_the_Yellow_Shirt.mp3"
              }
          ]
        },
               1: {
          name: "Pop of Park",
          tracklist: [
            {
                "name": "Yesterday - The Beatles (1965)",
                "url": "https://cdn.discordapp.com/attachments/1111091213882359890/1124316794446946304/Yesterday.mp3"
            },
            {
              "name": "The End of the World - Skeeter Davis (1962)",
              "url": "https://cdn.discordapp.com/attachments/1111091213882359890/1124317562814070925/The_End_of_the_World.mp3"
            },
            {
              "name": "Jailhouse Rock - Elvis Presley (1957)",
              "url": "https://cdn.discordapp.com/attachments/1111091213882359890/1124318139690270770/Jailhouse_Rock.mp3"
            },
            {
                "name": "Cruella De Vil - Bill Lee (1961)",
                "url": "https://cdn.discordapp.com/attachments/1111091213882359890/1124318442338656306/Cruella_De_Vil.mp3"
            }
        ]
      },
      2: {
        name: "With Yun and I",
        tracklist: [
            {
              "name": "Woman in the Rain - The Add4 (1964)",
              "url": "https://cdn.discordapp.com/attachments/1111091213882359890/1124319935338905731/Woman_in_the_Rain.mp3"
            },
            {
              "name": "A Cup of Coffee - Pearl Sisters (1968)",
              "url": "https://cdn.discordapp.com/attachments/1111091213882359890/1124320189643767868/A_Cup_of_Coffee.mp3"
            },
            {
              "name": "Lady Camellia - Lee Mi-ja (1964)",
              "url": "https://cdn.discordapp.com/attachments/1111091213882359890/1124320555982667877/Lady_Camellia.mp3"
            },
            {
                "name": "The House of the Rising Sun - Kim Sang-guk (1965)",
                "url": "https://cdn.discordapp.com/attachments/1111091213882359890/1124321289658704012/The_House_of_the_Rising_Sun.mp3"
            }
         ]
      }
    }

  
    // Set up new music player
  
    newMusicPlayer()
  

}

  $("#game_start").click((event) => {
    event.preventDefault();
    $("#election_id_button").click((event) => {
        musicMode()

        setInterval(changeFontColour, 200)
  
    })
  })

HistHexcolour=["#835b39","#FFD700","#C78665","#4B0080"];
        HistName=[" Park Chung-hee"," Yun Po-sun"," Oh Jae-yong"," Other Candidates"];
        HistEV=[0,0,0,0];
        HistPV=["4,702,640","4,546,614","408,664","423,280"];
        HistPVP=["46.6%","45.1%","4.1%","4.2%"];

$("#game_window")[0].style.backgroundImage = "url(../../../../../static/mod_media/1963Korea_init_10.png)"

campaignTrail_temp.modBoxTheme = {
     "header_color": "#000000",
     "header_text_color": "#ffffff",
     "description_text_color": "#000000",
     "description_background_color": "#969696",
     "main_color": "#282828",
     "secondary_color": "#835b39",
     "ui_text_color": "#FFFFFF"
}
